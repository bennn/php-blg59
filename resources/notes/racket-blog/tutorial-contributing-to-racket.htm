<!DOCTYPE html>
<!-- saved from url=(0072)http://blog.racket-lang.org/2017/09/tutorial-contributing-to-racket.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    <title>Tutorial: Contributing to Racket</title>
    <meta name="description" content="_posted by Ben Greenman, with help from Matthew Butterick and Robby Findler and Jack Firth and Vincent St-Amour and Sam Tobin-Hochstadt_  This post describes 3 ways to contribute to Racket:  (1) fixing a typo online,  (2) submitting a pull request to the ...">
    <meta name="author" content="The Unknown Author">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="http://blog.racket-lang.org/favicon.ico">
    <link rel="canonical" href="http://blog.racket-lang.org/2017/09/tutorial-contributing-to-racket.html">
    <link rel="next" href="http://blog.racket-lang.org/2017/09/racket-v6-10-1.html">
    <link rel="prev" href="http://blog.racket-lang.org/2017/10/tutorial-creating-a-package.html">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="./src/main.css">
    <link rel="stylesheet" type="text/css" href="./src/blog-fonts.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="http://blog.racket-lang.org/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml" href="http://blog.racket-lang.org/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    </head>
  <body>
<row class="one-column" id="logo"><col-1><a href="http://racket-lang.org/"><div id="logo-container"><img id="logo" src="./src/racket-logo.svg"> Racket</div></a></col-1><col-2><p><a href="http://blog.racket-lang.org/index.html">blog</a></p></col-2></row>
<article>
<row>

<col-1>
  <p class="date-and-tags">27 Sep 2017</p>

</col-1>

<col-2>
  <header>
  <h1>Tutorial: Contributing to Racket</h1>
  </header>

<p><em>posted by Ben Greenman, with help from Matthew Butterick and Robby Findler and Jack Firth and Vincent St-Amour and Sam Tobin-Hochstadt</em></p>

<p>This post describes 3 ways to contribute to Racket:  (1) fixing a typo online,  (2) submitting a pull request to the <a href="https://github.com/racket/racket"><code>racket/racket</code></a> repository, and  (3) submitting a pull request to a repository in the <a href="https://github.com/racket">Racket GitHub organization</a>.</p>
<!-- more-->

<p>The source code for Racket is on GitHub. Everything that comes with <a href="http://docs.racket-lang.org/reference/index.html"><code>#lang racket</code></a>  is online at <a href="https://github.com/racket/racket">https://github.com/racket/racket</a>. This includes the <a href="https://github.com/racket/racket/tree/master/racket/src">compiler</a>,  the <a href="https://github.com/racket/racket/tree/master/racket/collects/raco">raco</a> command-line tool,  and the libraries for basic datatypes. Other packages included in the <a href="https://pkgd.racket-lang.org/pkgn/search?q=main-distribution">main distribution</a>  are online in repositories owned by the <a href="https://github.com/racket"><code>racket</code> GitHub organization</a>. These repos include <a href="https://github.com/racket/htdp"><code>racket/htdp</code></a>,  <a href="https://github.com/racket/rackunit"><code>racket/rackunit</code></a>, and  <a href="https://github.com/racket/typed-racket"><code>racket/typed-racket</code></a>.</p>

<p>Anyone with a <a href="https://help.github.com/articles/signing-up-for-a-new-github-account/">GitHub account</a>  can contribute to Racket by <a href="https://help.github.com/articles/fork-a-repo/">forking a repository</a>  and <a href="https://help.github.com/articles/creating-a-pull-request/">submitting a pull request</a>. To help streamline the process for potential contributors,  this post explains how to submit a quality pull request for three kinds of tasks:</p>

<ol>
 <li>Fixing a typo</li>
 <li>Contributing to the <a href="https://github.com/racket/racket"><code>racket</code></a> language</li>
 <li>Contributing to a <a href="https://pkgd.racket-lang.org/pkgn/search?q=main-distribution">main distribution</a> package</li></ol>

<p>If you have any trouble following along, ask for help via  <a href="https://groups.google.com/forum/#!forum/racket-users">email</a>,  <a href="https://botbot.me/freenode/racket/">IRC</a>,  and/or <a href="http://racket-slack.herokuapp.com/">Slack</a>.</p>

<blockquote>
 <p>For a Git crash course, see: <a href="http://rogerdudler.github.io/git-guide/">http://rogerdudler.github.io/git-guide/</a></p></blockquote>

<blockquote>
 <p>See also: <a href="http://blog.racket-lang.org/2012/11/tutorial-contributing-to-racket.html">Contributing to Racket</a> (the 2012 edition) and <a href="http://www.greghendershott.com/2013/04/a-guide-for-infrequent-contributors-to-racket.html">Guide for Infrequent Contributors</a></p></blockquote>

<h2 id="how-to-fix-a-typo">How to fix a typo</h2>

<p>If you find a typo in the <a href="https://docs.racket-lang.org/">Racket documentation</a>,  there’s an “easy” way to submit a fix:</p>

<ol>
 <li>Find the documentation source on GitHub</li>
 <li>Click the “Edit this File” button (looks like a pencil: <a href="https://github.com/racket/racket-lang-org/blob/master/blog/_src/posts/2017-09-27-tutorial-contributing-to-racket.md"><img src="./tutorial-contributing-to-racket_files/edit-this-file-github-button.png" title="Edit this File" alt="&#39;Edit this File&#39; button"></a>)</li>
 <li>Use GitHub to fork the repo and submit a pull request</li></ol>

<p>The good news is that GitHub makes it easy to create the pull request. The bad news is that it can be difficult to find the right file to edit.</p>

<h3 id="hints-for-finding-documentation">Hints for finding documentation</h3>

<p>The source for <a href="http://docs.racket-lang.org/reference/index.html">The Racket Reference</a> is here:</p>

<p><a href="https://github.com/racket/racket/tree/master/pkgs/racket-doc/scribblings/reference">https://github.com/racket/racket/tree/master/pkgs/racket-doc/scribblings/reference</a></p>

<p>The source for <a href="http://docs.racket-lang.org/guide/index.html">The Racket Guide</a> is here:</p>

<p><a href="https://github.com/racket/racket/tree/master/pkgs/racket-doc/scribblings/guide">https://github.com/racket/racket/tree/master/pkgs/racket-doc/scribblings/guide</a></p>

<p>To find the documentation for a main distribution package <code>&lt;PKG&gt;</code>:  (1) go to <code>github.com/racket/&lt;PKG&gt;</code>,  (2) open the top-level folder named <code>&lt;PKG&gt;-doc/</code>, and  (3) search for a sub-folder (or sub-sub-folder) named <code>scribblings/</code>.</p>

<p>Clicking any section header in the docs will display a module path that  should be close to the documentation’s actual source. For example, <a href="http://docs.racket-lang.org/redex/The_Redex_Reference.html">The Redex Reference</a>  has a section titled “Patterns”. Clicking the section header reveals the module path <a href="https://github.com/racket/redex?path=redex-doc/redex/redex.scrbl"><code>"redex/redex.scrbl"</code></a>. This module <strong>does not</strong> contain the documentation on “Patterns”, but  it includes documentation from the relative path <a href="https://github.com/racket/redex?path=redex-doc/redex/scribblings/ref.scrbl"><code>"scribblings/ref.scrbl"</code></a>  which includes documentation from the relative path <a href="https://github.com/racket/redex?path=redex-doc/redex/scribblings/ref/patterns.scrbl"><code>"ref/patterns.scrbl"</code></a>. That last file contains the documentation on patterns.</p>

<blockquote>
 <p>You are in a mazy of twisty little module paths, all alike.</p></blockquote>

<p>See <a href="http://docs.racket-lang.org/reference/collects.html">Section 18.2</a> of The Racket Reference for more about module paths.</p>

<p>If this sounds like too much work, an alternative is to (1) clone the repo,  (2) use your operating system (e.g., <code>grep</code>) to find the right file, and  (3) go back to GitHub to do the edit and submit a pull request.</p>

<h2 id="how-to-contribute-to-the-racket-language">How to contribute to the <code>racket</code> language</h2>

<p>If you find a bug in <a href="https://github.com/racket/racket/blob/master/racket/collects/racket/list.rkt"><code>racket/list</code></a>,  or want to add an example to the documentation for <a href="https://github.com/racket/racket/blob/master/racket/collects/racket/class.rkt"><code>racket/class</code></a>,  or think of a useful addition to <a href="https://github.com/racket/racket/blob/master/racket/collects/racket/logging.rkt"><code>racket/logging</code></a>,  then you will want to install Racket from source to create a pull request.</p>

<h3 id="step-1-install-from-source">Step 1. Install from source</h3>

<p>To install Racket from source, (1) clone the <a href="https://github.com/racket/racket"><code>racket/racket</code></a> repository  and (2) run its Makefile.</p>

<pre><code>$ git clone https://github.com/racket/racket
$ cd racket
$ make</code></pre>

<br>

<blockquote>
 <p>Estimated time: 3 hours</p></blockquote>

<p>To build the Minimal Racket, run <code>make base</code> instead of <code>make</code>.</p>

<p>To build the Minimal Racket and test suite, run <code>make PKGS=racket-test</code>.</p>

<h3 id="step-2-create-a-fork-on-github">Step 2. Create a fork on GitHub</h3>

<p>The next step is <a href="https://help.github.com/articles/fork-a-repo/">to fork</a>  the <a href="https://github.com/racket/racket"><code>racket/racket</code></a> repo on GitHub and  add the fork as a <a href="https://help.github.com/articles/adding-a-remote/">remote</a>.</p>

<pre><code># Inside the newly-cloned `racket/` directory ...
$ git remote add fork https://github.com/&lt;YOUR-USERNAME&gt;/racket</code></pre>

<br>

<h3 id="step-3-create-a-pull-request">Step 3. Create a pull request</h3>

<p>From here you can make a branch for your changes,  do the edits, and push to your fork.</p>

<pre><code>$ git checkout -b my-edits
# do edits
$ git commit
$ git push fork my-edits</code></pre>

<br>

<p>Once <code>git push</code> finishes, visit <a href="https://github.com/racket/racket">https://github.com/racket/racket</a> If you are logged-in, there will be a green button to “Compare &amp; pull request”.</p>

<p><img src="./tutorial-contributing-to-racket_files/compare-and-pull-request-github-button.png" title="Compare &amp; pull request" alt="&#39;Compare &amp; pull request&#39; button"></p>

<p>Click it, and GitHub will show a diff between the pushed branch on your  fork and the <code>master</code> branch on the <a href="https://github.com/racket/racket"><code>racket/racket</code></a> repo.</p>

<h3 id="hints-for-navigating-the-racketracket-repo">Hints for navigating the <code>racket/racket</code> repo</h3>

<p>Built-in <a href="http://docs.racket-lang.org/guide/module-basics.html?q=collect#%28tech._collection%29">collections</a>  are in the folder <a href="http://blog.racket-lang.org/2017/09/tutorial-contributing-to-racket.html"><code>racket/collects</code></a>. For example, <a href="https://github.com/racket/racket/tree/master/racket/collects/data"><code>data</code></a>  <a href="https://github.com/racket/racket/tree/master/racket/collects/json"><code>json</code></a>,  <a href="https://github.com/racket/racket/tree/master/racket/collects/net"><code>net</code></a>, and  <a href="https://github.com/racket/racket/tree/master/racket/collects/syntax"><code>syntax</code></a>.</p>

<p>The source for <a href="http://docs.racket-lang.org/reference/index.html"><code>#lang racket</code></a>  is in the folder <a href="https://github.com/racket/racket?path=racket/collects/racket"><code>racket/collects/racket</code></a>. This includes the <a href="https://github.com/racket/racket?path=racket/collects/racket/lang/reader.rkt">reader</a>,  the <a href="https://github.com/racket/racket?path=racket/collects/racket/match"><code>racket/match</code></a> package, and  the <a href="https://github.com/racket/racket?path=racket/collects/racket/cmdline.rkt"><code>racket/cmdline</code></a> library.</p>

<p>The source for the compiler is in <a href="https://github.com/racket/racket?path=racket/src"><code>racket/src</code></a>.</p>

<p>Tests for the <a href="http://docs.racket-lang.org/reference/index.html"><code>racket</code></a> language may be under the:  <a href="https://github.com/racket/racket/tree/master/pkgs/racket-test-core"><code>racket-test-core/</code></a>,  <a href="https://github.com/racket/racket/tree/master/pkgs/racket-test"><code>racket-test/</code></a>, or  <a href="https://github.com/racket/racket/tree/master/pkgs/racket-test-extra"><code>racket-test-extra/</code></a>  directories.</p>

<h3 id="hints-for-compiling-and-testing">Hints for compiling and testing</h3>

<p>To recompile everything and rebuild the documentation, run <a href="http://docs.racket-lang.org/raco/setup.html"><code>raco setup</code></a> using  the <code>raco</code> executable from the cloned repository. To run the core suite of unit tests, run <a href="http://docs.racket-lang.org/raco/test.html?q=raco%20setup"><code>raco test -l tests/racket/test</code></a>.</p>

<pre><code># From the root of the racket repo ...
$ ./racket/bin/raco setup
$ ./racket/bin/raco test -l tests/racket/test</code></pre>

<br>

<blockquote>
 <p>Estimated time for <code>setup</code>: 0–3 hours</p></blockquote>

<blockquote>
 <p>Estimated time for <code>test</code>: 1 hour</p></blockquote>

<h2 id="how-to-contribute-to-a-main-distribution-package">How to contribute to a main distribution package</h2>

<p>The Racket <a href="https://pkgd.racket-lang.org/pkgn/search?q=main-distribution">main distribution</a>  includes many packages, such as:  <a href="https://github.com/racket/games"><code>games</code></a>,  <a href="https://github.com/racket/drracket"><code>drracket</code></a>,  <a href="https://github.com/racket/math"><code>math</code></a>,  <a href="https://github.com/racket/pict"><code>pict</code></a>,  <a href="https://github.com/racket/redex"><code>redex</code></a>, and  <a href="https://github.com/racket/scribble"><code>scribble</code></a>. The source for each package is on GitHub, in a repository owned by the <a href="https://github.com/racket/racket"><code>racket</code></a>  organization.</p>

<p>The first step in contributing to a main distribution package is to get its source code. Depending on how you installed Racket, there are two ways to get the source:</p>

<h3 id="step-1a-if-you-installed-racket-from-source-">Step 1a. If you installed Racket from source …</h3>

<p>If you installed Racket from source, the following command makes a clone  of the repository for the package <code>&lt;PKG&gt;</code> in the current directory.</p>

<pre><code>$ raco pkg update --clone &lt;PKG&gt;</code></pre>

<br>

<blockquote>
 <p>Estimated time: 1 hour</p></blockquote>

<p>If <code>raco pkg update --clone</code> asks whether to clone dependencies, say yes.</p>

<p>The recommended place to store clones is in a directory named <code>extra-pkgs/</code>  at the top level of your clone of <code>racket/racket</code>. This directory is recommended because the <code>racket</code> repo <a href="https://github.com/racket/racket/blob/master/.gitignore">ignores it</a>.</p>

<h3 id="1b-if-you-have-a-pre-compiled-version-of-racket-">1b. If you have a pre-compiled version of Racket …</h3>

<p>If you have a compiled version of Racket, i.e. from <a href="https://download.racket-lang.org/">https://download.racket-lang.org</a>,  the following pair of commands makes a clone of the repository for the  package <code>&lt;PKG&gt;</code> in the current directory:</p>

<pre><code>$ raco pkg update --no-setup --catalog https://pkgs.racket-lang.org &lt;PKG&gt;
$ raco pkg update --clone &lt;PKG&gt;</code></pre>

<br>

<p>If <code>raco pkg update --clone</code> asks whether to clone dependencies, say yes.</p>

<blockquote>
 <p>Estimated time: 1 hour</p></blockquote>

<h3 id="2-create-a-fork-on-github">2. Create a fork on GitHub</h3>

<p>After installing the package, make sure <a href="https://help.github.com/articles/fork-a-repo/">to fork</a>  the <code>racket/&lt;PKG&gt;</code> repo and add your fork as a remote:</p>

<pre><code>$ git remote add fork https://github.com/&lt;YOUR-USERNAME&gt;/&lt;PKG&gt;</code></pre>

<br>

<h3 id="3-create-a-pull-request">3. Create a pull request</h3>

<p>After creating the fork, you can make a new branch, commit changes, push to the fork,  and create a pull request.</p>

<pre><code>$ git checkout -b my-edits
# do edits
$ git commit
$ git push fork my-edits</code></pre>

<br>

<p>Visit GitHub to <a href="https://help.github.com/articles/creating-a-pull-request/">create the pull request</a>.</p>

<h3 id="hints-for-navigating-a-package">Hints for navigating a package</h3>

<p>For a typical main distribution package <code>&lt;PKG&gt;</code>:</p>

<ul>
 <li>The implementation is in the directory <code>&lt;PKG&gt;-lib/&lt;PKG&gt;</code></li>
 <li>The docs are in the directory <code>&lt;PKG&gt;-doc/**/scribblings</code></li>
 <li>Unit tests are in the directory <code>&lt;PKG&gt;-test</code></li>
 <li>Some files may have additional tests in a submodule; look for <a href="http://docs.racket-lang.org/guide/Module_Syntax.html#%28part._main-and-test%29"><code>(module+ test ....)</code></a></li></ul>

<p>DrRacket includes a few navigational tools:</p>

<ul>
 <li>right-click an identifier, click “Open Defining File”</li>
 <li>right-click a module name, click “Open <code>&lt;filename&gt;</code>”</li>
 <li>from the “File” menu, click “Open Require Path” and use the search box</li></ul>

<p>The Emacs <a href="https://github.com/greghendershott/racket-mode"><code>racket-mode</code></a>  has similar shortcuts.</p>

<p>The <a href="https://github.com/takikawa/raco-find-collection"><code>raco-find-collection</code></a>  package implements a command-line search tool. After installing, run <code>raco fc &lt;COLLECTION-PATH&gt;</code>.</p>

<p>If you’re not sure where to add tests,  write a small program that tests your changes and submit it as a comment to the pull request. A repo manager can suggest how to work the script into the existing unit test suite.</p>

<h3 id="hints-for-compiling-and-testing">Hints for compiling and testing</h3>

<p>To recompile the code and documentation:</p>

<pre><code>$ raco setup &lt;PKG&gt;</code></pre>

<br>

<blockquote>
 <p>Estimated time: 1–5 minutes</p></blockquote>

<p>To view the documentation:</p>

<pre><code>$ raco docs &lt;PKG&gt;</code></pre>

<br>

<p>To run <em>some</em> unit tests:</p>

<pre><code>$ raco test -c &lt;PKG&gt;</code></pre>

<br>

<p>The command(s) to run all unit tests depends on the package. Ask a repo owner, read the package’s <code>.travis.yml</code> if it exists,  or check the <a href="https://github.com/racket/racket/wiki/Release-Checklist">Racket release checklist</a>  for help running all the <code>&lt;PKG&gt;</code> tests.</p>

<h2 id="postscript-life-of-a-pull-request">Postscript: Life of a pull request</h2>

<p>After submitting a pull request, you enter the “LGTM loop”.</p>

<pre><code>do {
  sleep($a_few_hours);
  if ($changes_requested) {
    make_changes();
  }
  elsif ($one_week_with_no_comments) {
    send_gentle_reminder();
  }
} until ($LGTM);</code></pre>

<p>This code is in Perl so you know not to take it too seriously.</p>

<ul>
 <li>Wait a few days for someone to review the pull request.  You should receive an email when this happens.</li>
 <li>If a week goes by with no comment, consider sending a quick “ping, any  thoughts on this?” comment to the pull request.</li>
 <li>If someones comments and requests changes, then make changes in a new commit  and push to your branch. GitHub will detect these changes and update the  pull request.</li></ul>

<p>Eventually, someone will comment “LGTM” and merge your changes.</p>

<blockquote>
 <p>“LGTM” probably means “looks good to merge”. It’s a compliment.</p></blockquote>

<p>Pull requests for a typo fix should be resolved in 1–2 weeks. Same for simple bug fixes.</p>

<p>Pull requests implementing a new feature should be resolved in a few months. Pull requests changing an existing feature may take longer.</p>

<p>Pull requests that implement a backwards-incompatible change to an existing  feature are unlikely to be merged until <a href="https://github.com/racket/racket/wiki/Racket2">Racket2</a>.</p>
<col-2>

</col-2></col-2></row>

<footer>
<row>
<col-1>
</col-1>
<col-2>
<h2><span class="label">next</span>&nbsp;<a class="next" href="http://blog.racket-lang.org/2017/10/tutorial-creating-a-package.html">Tutorial: Creating a Package</a></h2>

<h2><span class="label">prev</span>&nbsp;<a class="previous" href="http://blog.racket-lang.org/2017/09/racket-v6-10-1.html">Racket v6.10.1</a></h2>

</col-2>
</row>
</footer>

</article>

<row class="one-column" id="bottom"><col-1></col-1><col-2>
<p>Made with <a href="https://github.com/greghendershott/frog">Frog</a>, a static-blog generator written in Racket.
<br><a href="https://github.com/racket/racket-lang-org">Source code</a> for this blog.
  
</p></col-2></row></body></html>
